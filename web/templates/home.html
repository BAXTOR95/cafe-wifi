{% extends "layout.html" %}
<!-- Page Title-->
{% block title %}Home{% endblock %}

<!-- Main Content -->
{% block content %}
<!-- Filter Sidebar Section -->
<!-- TODO: Implement filter feature -->
<div class="col-md-3 filter-sidebar scrollable-section">
	<h5>FILTERS</h5>
	<div class="my-3">
		<!-- Filter icons -->
		<span class="filter-icon">Wi-Fi</span>
		<span class="filter-icon">Sockets</span>
		<!-- Add more filter icons as needed -->
	</div>
	<!-- Additional filters -->
	<div class="filter-item">Quiet</div>
	<div class="filter-item">Long stays</div>
	<div class="filter-item">Community vibe</div>
	<!-- More filters can be added here -->
</div>

<!-- Listing Section -->
<div class="col-md-6 listing-section">
	<div class="fixed-header">
		<h2 class="mt-3">Cafes</h2>
		<p>
			The best work and study-friendly cafes, restaurants, libraries, and hotel
			lobbies in the world.
		</p>
	</div>
	<div class="scrollable-list scrollable-section">
		<!-- Listings -->
		{% for cafe in cafes %}
		<div
			class="listing-card d-flex align-items-center mb-3"
			data-latitude="{{ cafe.latitude }}"
			data-longitude="{{ cafe.longitude }}"
			onclick="updateMapCenter(this)"
		>
			<img src="{{ cafe.img_url }}" alt="{{ cafe.name }}" class="img-fluid" />
			<div>
				<h3>{{ cafe.name }}</h3>
				<p>{{ cafe.location }}</p>
			</div>
		</div>
		{% endfor %}
	</div>
</div>

<!-- Map Section -->
<div class="col-md-3 map-container scrollable-section">
	<!-- Placeholder for Map Embedding (e.g., Google Earth API or iframe) -->
	<gmp-map
		id="cafemap"
		center="{{ cafes[0].latitude }},{{ cafes[0].longitude }}"
		zoom="16"
		map-id="MAP_ID"
	>
		{% for cafe in cafes %}
		<gmp-advanced-marker
			position="{{ cafe.latitude }},{{ cafe.longitude }}"
			title="{{ cafe.name }}"
			collisionBehavior="opt-in"
			gmpClickable="true"
		></gmp-advanced-marker>
		{% endfor %}
	</gmp-map>
</div>

{% endblock %}
